    <!DOCTYPE html>
<html>
    <title>DinoKrojept Linechart</title>
    <head>
            <meta charset="utf-8" /> 
            <title>Dino park visualization</title>
            <link rel="stylesheet" href="./static/lib/css//bootstrap.min.css">
            <link rel="stylesheet" href="./static/lib/css/keen-dashboards.css">
            <style>
                #lineChartHolder {
                    margin: 20px;
                }
                #userControls {
                    display: inline-block;
                    width: 20%;
                }
                #actualLineChart {
                    display: inline-block;
                }
            </style>
            <script src="http://d3js.org/d3.v4.min.js"></script>
    </head>
    <body>
        
            
            <div id="lineChartHolder">
                <svg id="actualLineChart" width="960" height="500"></svg>
                <div id="userControls">
                        <p>Please refrain from trying to display any data until you've seen the first graph! :) </p>
                    <form action="">
                        <input type="radio" id="dayOfData" name="day" value="friday" checked="checked"> Friday<br>
                        <input type="radio" id="dayOfData" name="day" value="saturday"> Saturday<br>
                        <input type="radio" id="dayOfData" name="day" value="sunday"> Sunday<br>
                        "all" or ID of interesting person: <input type="text" name="idOfPerson" id="idOfPerson" value="all"><br>
                        <fieldset>
                                Areas<br>
                                <div>
                                  <input type="checkbox" id="kiddie" name="areas" value="0" checked>
                                  <label for="kiddie">Kiddie Land</label>
                                </div>
                                <div>
                                  <input type="checkbox" id="tundra" name="areas" value="1" checked>
                                  <label for="tundra">Tundra Land</label>
                                </div>
                                <div>
                                        <input type="checkbox" id="entry" name="areas" value="2" checked>
                                        <label for="entry">Entry Corridor</label>
                                    </div>
                                <div>
                                    <input type="checkbox" id="wet" name="areas" value="3" checked>
                                    <label for="wet">Wet Land</label>
                                </div>
                                <div>
                                        <input type="checkbox" id="coaster" name="areas" value="4" checked>
                                        <label for="coaster">Coaster Alley</label>
                                    </div>
                              </fieldset>

                        <input type="button" value="Show me the data" onclick="draw()">
                    </form>
                    <p>Interesting ID:s might include: 839736, 1278894</p>
                </div>
            </div>

        <script src='./static/js/filterdata.js' type='text/javascript'></script>
        <script src='./static/js/createLinechart.js' type='text/javascript'></script>
        
        <script>
                d3.queue()
                .defer(d3.csv, '/Users/isabelle/Documents/AvanceradVisuell/DinoKrojept/D3part/static/data/comm-data-Fri.csv')
                .defer(d3.csv, '/Users/isabelle/Documents/AvanceradVisuell/DinoKrojept/D3part/static/data/comm-data-Sat.csv')
                .defer(d3.csv, '/Users/isabelle/Documents/AvanceradVisuell/DinoKrojept/D3part/static/data/comm-data-Sun.csv')
                .await(assignVariables);


            var linechart, filteredData;
            var dataFri, dataSat, dataSun;

            function getUncheckedBoxes(chkboxName) {
                var checkboxes = document.getElementsByName(chkboxName);
                var checkboxesUnchecked = [];
                for (var i=0; i<checkboxes.length; i++) {
                    if (!checkboxes[i].checked) {
                        checkboxesUnchecked.push(i);
                    }
                }
                return checkboxesUnchecked;
            }

            function assignVariables(error, dFri, dSat, dSun) {
                if (error) throw error;
                dataFri = dFri;
                dataSat = dSat;
                dataSun = dSun;
                draw("friday", "all");
            }

            function draw(){
                d3.selectAll("svg > *").remove();
                var whichDay = document.querySelector('input[name="day"]:checked').value;
                var whichID = document.getElementById('idOfPerson').value;
                var whichAreas = getUncheckedBoxes("areas");
                console.log(whichAreas);

                if (whichDay === "friday") linechart = createLinechart(dataFri, whichID, whichAreas);
                else if (whichDay === "saturday") linechart = createLinechart(dataSat, whichID, whichAreas);
                else linechart = createLinechart(dataSun, whichID, whichAreas);
            }
        </script>
    </body>    
</html>